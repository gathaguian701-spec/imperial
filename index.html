<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IMPERIAL TECHUB</title>

  <!-- Royal Blue Favicon -->
  <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDA1MmJmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHRleHQgeD0iNCIgeT0iMjQiIGZvbnQtc2l6ZT0iMjQiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmaWxsPSJ3aGl0ZSI+SVQ8L3RleHQ+PC9zdmc+" />

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background-color: #f4f8ff;
      color: #003366;
      text-align: center;
      overflow-x: hidden;
    }

    /* Intro Overlay */
    #intro {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: #001f4d;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: white;
      z-index: 9999;
      animation: fadeOut 5s ease forwards;
    }

    #intro h1 {
      font-size: 3em;
      letter-spacing: 2px;
      animation: fadeIn 2s ease-in-out;
    }

    /* Glowing Pulse */
    .pulse {
      width: 20px;
      height: 20px;
      background: #0052bf;
      border-radius: 50%;
      margin-top: 20px;
      box-shadow: 0 0 0 rgba(0, 82, 191, 0.7);
      animation: pulseAnim 1.5s infinite;
    }

    @keyframes pulseAnim {
      0% { box-shadow: 0 0 0 0 rgba(0,82,191,0.6); }
      70% { box-shadow: 0 0 0 25px rgba(0,82,191,0); }
      100% { box-shadow: 0 0 0 0 rgba(0,82,191,0); }
    }

    @keyframes fadeOut {
      0% { opacity: 1; visibility: visible; }
      90% { opacity: 1; }
      100% { opacity: 0; visibility: hidden; }
    }

    nav {
      background-color: #003399;
      color: white;
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 10px;
      flex-wrap: wrap;
    }

    nav a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      padding: 8px 15px;
      border-radius: 5px;
    }

    nav a:hover {
      background-color: #0052bf;
    }

    section {
      display: none;
      padding: 20px;
      max-width: 800px;
      margin: auto;
      text-align: left;
    }

    #home { display: block; }

    h2 {
      color: #003399;
      text-align: center;
    }

    footer {
      text-align: center;
      padding: 20px;
      margin-top: 50px;
      background-color: #003399;
      color: white;
      font-weight: 600;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
      z-index: 9998;
    }

    .modal-content {
      width: 90%;
      max-width: 600px;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
    }

    iframe {
      width: 100%;
      height: 400px;
      border: none;
    }

    .modal-buttons {
      background-color: #003399;
      color: white;
      padding: 10px;
      text-align: right;
    }

    .modal-buttons button {
      background: #ff3333;
      border: none;
      color: white;
      padding: 8px 15px;
      margin-left: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .modal-buttons button:hover {
      background-color: #cc0000;
    }
  </style>
</head>

<body>
  <!-- Intro -->
  <div id="intro">
    <h1>IMPERIAL TECHUB</h1>
    <div class="pulse"></div>
  </div>

  <!-- Navigation -->
  <nav>
    <a href="#" onclick="showSection('home')">HOME</a>
    <a href="#" onclick="showSection('events')">EVENTS</a>
    <a href="#" onclick="showSection('announcements')">ANNOUNCEMENTS</a>
    <a href="#" onclick="showSection('calendar')">CALENDAR</a>
    <a href="#" onclick="showSection('leaders')">LEADERS</a>
    <a href="#" onclick="showSection('hymnbook')">HYMNBOOK</a>
    <a href="#" onclick="openMeeting()">JOIN MEETING</a>
  </nav>

  <!-- Sections -->
  <section id="home">
    <h2>Welcome to IMPERIAL TECHUB</h2>
    <p id="funFact"></p>
  </section>

  <section id="events">
    <h2>Upcoming Events</h2>
    <div id="countdowns"></div>
  </section>

  <section id="announcements">
    <h2>Announcements</h2>
    <h3>PCEA NGORANO PARISH YOUTH RALLY</h3>
    <p>There will be a Youth Rally on <b>Sunday, 16th November</b> at PCEA Chieni Church. All youths are encouraged to attend for fellowship, worship, and growth in Christ.</p>
    <hr>
    <h3>PRESBYTERY YOUTH CONVENTION</h3>
    <p>The Convention will be held from <b>Tuesday, 2nd December to Saturday, 6th December 2025</b>. 
    All youth members are invited to participate fully. Charges are <b>Ksh.1500</b> per person.</p>
  </section>

  <section id="calendar">
    <h2>Calendar</h2>
    <ul>
      <li>16 Nov 2025 — Youth Rally (PCEA Chieni)</li>
      <li>2–6 Dec 2025 — Presbytery Youth Convention</li>
      <li>25 Dec 2025 — Christmas Day</li>
      <li>1 Jan 2026 — New Year Celebration</li>
    </ul>
  </section>

  <section id="leaders">
    <h2>Our Leaders</h2>
    <ul>
      <li><b>Zachary Gikonyo</b> — Chairperson — <a href="https://wa.me/254742892647">WhatsApp</a> | <a href="tel:+254742892647">Call</a></li>
      <li><b>Dalson Maina</b> — Vice Chairperson — <a href="https://wa.me/254714003648">WhatsApp</a> | <a href="tel:+254714003648">Call</a></li>
      <li><b>Ian Gathagu</b> — Secretary — <a href="https://wa.me/254718357417">WhatsApp</a> | <a href="tel:+254718357417">Call</a></li>
      <li><b>Lydia Wamuyu</b> — Vice Secretary — <a href="https://wa.me/254110867929">WhatsApp</a> | <a href="tel:+254110867929">Call</a></li>
      <li><b>Winnie Maundu</b> — Treasurer — <a href="https://wa.me/254713285534">WhatsApp</a> | <a href="tel:+254713285534">Call</a></li>
    </ul>
  </section>

  <section id="hymnbook">
    <h2>Hymnbook</h2>
    <input type="text" id="searchHymn" placeholder="Search hymn..." onkeyup="searchHymn()" style="width:100%;padding:10px;">
    <ul id="hymnList">
      <li>Hymn 1 – Amazing Grace</li>
      <li>Hymn 2 – What a Friend We Have in Jesus</li>
      <li>Hymn 3 – How Great Thou Art</li>
      <li>Hymn 4 – To God Be the Glory</li>
    </ul>
  </section>

  <!-- Video Meeting Modal -->
  <div id="meetingModal" class="modal">
    <div class="modal-content">
      <iframe id="jitsiFrame" allow="camera; microphone; fullscreen"></iframe>
      <div class="modal-buttons">
        <button onclick="closeMeeting()">Leave Meeting</button>
      </div>
    </div>
  </div>

  <footer>
    PROUDLY CREATED BY IAN GATHAGU<br>v1.3.2
  </footer>

  <script>
    function showSection(id) {
      document.querySelectorAll('section').forEach(sec => sec.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }

    // Fun Fact rotation
    const facts = [
      "Jesus had 12 disciples — the same number of months in a year!",
      "The Bible is the most translated book in the world.",
      "David was the youngest of his brothers — yet chosen by God.",
      "There are 365 'Do not fear' verses — one for each day!"
    ];
    const day = Math.floor(Date.now() / (1000*60*60*24)) % facts.length;
    document.getElementById("funFact").innerText = facts[day];

    // Countdown setup
    const events = [
      { name: "Youth Rally", date: "Nov 16, 2025 00:00:00" },
      { name: "Presbytery Youth Convention", date: "Dec 2, 2025 00:00:00" },
      { name: "Christmas Day", date: "Dec 25, 2025 00:00:00" },
      { name: "New Year 2026", date: "Jan 1, 2026 00:00:00" }
    ];

    function updateCountdowns() {
      const now = new Date().getTime();
      let html = "";
      events.forEach(ev => {
        const dist = new Date(ev.date).getTime() - now;
        const d = Math.floor(dist / (1000*60*60*24));
        const h = Math.floor((dist % (1000*60*60*24)) / (1000*60*60));
        const m = Math.floor((dist % (1000*60*60)) / (1000*60));
        const s = Math.floor((dist % (1000*60)) / 1000);
        html += `<p><b>${ev.name}</b> — ${d}d ${h}h ${m}m ${s}s</p>`;
      });
      document.getElementById("countdowns").innerHTML = html;
    }
    setInterval(updateCountdowns, 1000);

    // Hymn search
    function searchHymn() {
      const val = document.getElementById("searchHymn").value.toLowerCase();
      document.querySelectorAll("#hymnList li").forEach(li => {
        li.style.display = li.innerText.toLowerCase().includes(val) ? "" : "none";
      });
    }

    // Jitsi Meeting
    function openMeeting() {
      const room = "ImperialTechubMeeting" + Math.floor(Math.random() * 10000);
      const jitsiUrl = `https://meet.jit.si/${room}#config.prejoinPageEnabled=false`;
      document.getElementById("jitsiFrame").src = jitsiUrl;
      document.getElementById("meetingModal").style.display = "flex";
    }

    function closeMeeting() {
      document.getElementById("meetingModal").style.display = "none";
      document.getElementById("jitsiFrame").src = "";
    }
  </script>
</body>
    </html>
