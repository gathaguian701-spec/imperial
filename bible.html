<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>PCEA CENTER YOUTH - Full Bible</title>
<style>
body { font-family: "Poppins", Arial, sans-serif; margin:0; padding:0; background:#f5f7fa; color:#222; }
header { background:#004aad; color:white; padding:12px; text-align:center; }
main { max-width:900px; margin:12px auto; padding:12px; }
label { font-weight:bold; margin-right:8px; }
select { padding:6px 10px; margin-right:12px; }
#verses { margin-top:12px; }
p { margin:4px 0; }
</style>
</head>
<body>

<header>
<h1>PCEA CENTER YOUTH - Full Bible</h1>
<p>Created with pride by <strong>Ian Gathagu</strong></p>
</header>

<main>
<div>
<label for="bookSelect">Book:</label>
<select id="bookSelect"></select>
<label for="chapterSelect">Chapter:</label>
<select id="chapterSelect"></select>
</div>
<div id="verses"></div>
</main>

<script>
let bibleData = {};

// Load the full Bible JSON
fetch('bible.json')
  .then(res => res.json())
  .then(data => {
    bibleData = data;
    const bookSelect = document.getElementById('bookSelect');
    Object.keys(bibleData).forEach(book => {
      const opt = document.createElement('option');
      opt.value = book;
      opt.textContent = book;
      bookSelect.appendChild(opt);
    });
    populateChapters(bookSelect.value);
  })
  .catch(err => {
    document.getElementById('verses').innerText = "Unable to load Bible.";
    console.error(err);
  });

const bookSelect = document.getElementById('bookSelect');
const chapterSelect = document.getElementById('chapterSelect');
const versesDiv = document.getElementById('verses');

bookSelect.onchange = () => populateChapters(bookSelect.value);
chapterSelect.onchange = () => showVerses(bookSelect.value, chapterSelect.value);

function populateChapters(book) {
  chapterSelect.innerHTML = '';
  const chapters = Object.keys(bibleData[book]);
  chapters.forEach(chap => {
    const opt = document.createElement('option');
    opt.value = chap;
    opt.textContent = chap;
    chapterSelect.appendChild(opt);
  });
  showVerses(book, chapters[0]);
}

function showVerses(book, chapter) {
  versesDiv.innerHTML = '';
  const verses = bibleData[book][chapter];
  Object.keys(verses).forEach(vNum => {
    const p = document.createElement('p');
    p.innerHTML = `<strong>${vNum}</strong>: ${verses[vNum]}`;
    versesDiv.appendChild(p);
  });
}
</script>

</body>
  </html>
